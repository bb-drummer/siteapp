!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=29)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return s});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),o(t,[{key:"name",get:function(){return"SiteappException"}}]),t}(Error)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u={},l=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),s(t,[{key:"name",get:function(){return"SiteappModuleException"}}]),t}(o.a),c=function(){function e(t,n,a){i(this,e),this._setup(t,n),!t||this.$element&&this.$element.jquery||(this.$element=$(t)),this.options=$.extend({},u,this.$element?this.$element.data():{},n),a instanceof Siteapp&&(this.application=a);var r=Siteapp.sys.hyphenate(Siteapp.sys.functionName(this));this.uuid||(this.uuid=r+"-"+Siteapp.sys.genUUID(6));var o=r;this.manager.options.namespacedModuleTriggers&&(o=this.application.appName+"-"+r),this.$element.attr("data-"+o)||this.$element.attr("data-"+o,this.uuid),this.$element.data(this.application.appName+"Plugin")||this.$element.data(this.application.appName+"Plugin",this),this.$element.trigger("init."+r)}return s(e,[{key:"_setup",value:function(e,t){}},{key:"_init",value:function(){}},{key:"_events",value:function(){}},{key:"_destroy",value:function(){}},{key:"reflow",value:function(){}}]),s(e,[{key:"destroy",value:function(){this._destroy();var e=Siteapp.sys.functionName(this),t=e;this.manager.options.namespacedModuleTriggers&&(t=this.application.appName+"-"+e),this.$element.removeAttr("data-"+t).removeData(this.application.appName+"Plugin").trigger("destroyed."+t);for(var n in this)this[n]=null}},{key:"hide",value:function(){this.$element.hide()}},{key:"show",value:function(){this.$element.show()}},{key:"toString",value:function(){return this.markup}},{key:"toElement",value:function(){return this.$element?this.$element:$(this.toString())}},{key:"_triggerAttribute",get:function(){return["data-",this.manager.namespacedModuleTriggers?this.application.appName+"-":"",Siteapp.sys.hyphenate(Siteapp.sys.functionName(this)).toLowerCase(),""].join("")}},{key:"_triggerDataOptions",get:function(){var e=[];return $.each(this.options,function(t,n){null===n||n instanceof Object&&!(n instanceof Array)?e.push(""):e.push(" data-"+Siteapp.sys.hyphenate(t)+"="+JSON.stringify(n))}),e.join("")}},{key:"_triggerTag",get:function(){return this._tagName||(this._tagName="div"),["<"+this._tagName+" ",this._triggerAttribute,this._triggerDataOptions,">","\x3c!-- modulecontent --\x3e","</"+this._tagName+">"].join("")},set:function(e){"string"==typeof e&&""!=e&&(this._tagName=e.toLowerCase())}},{key:"markup",get:function(){var e=this._triggerTag;return this.$element&&(e=e.replace("\x3c!-- modulecontent --\x3e",this.$element.html()||"")),e}},{key:"manager",get:function(){return this._manager},set:function(e){if(!(e instanceof ModuleManager))throw new l("Invalid module manager object to attach, must be an instance of Siteapp.ModuleManager");this._manager=e}},{key:"application",get:function(){return this._app},set:function(e){if(!(e instanceof Siteapp))throw new l("Invalid application object to attach, must be an instance of Siteapp");this._app=e}}]),e}();t.a=c},function(e,t,n){"use strict";function i(){return"rtl"===$("html").attr("dir")}function a(e,t){return e=e||6,Math.round(Math.pow(36,e+1)-Math.random()*Math.pow(36,e)).toString(36).slice(1)+(t?"-"+t:"")}function r(e){var t,n={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},i=document.createElement("div");for(var a in n)void 0!==i.style[a]&&(t=n[a]);return t||(t=setTimeout(function(){e.triggerHandler("transitionend",[e])},1),"transitionend")}function o(e,t,n){var i=function(){throw new Error("SECURITY ALERT: You are not allowed to do that in this context!")},a={};for(var r in t)e.hasOwnProperty(t[r])&&function(){var o=t[r],s=e[o];a[o]=s,!1===n?Object.defineProperty(e,o,{get:function(){return a[o]},set:i}):Object.defineProperty(e,o,{value:a[o],writable:!1})}();return e}function s(e){if(void 0===Function.prototype.name){var t=/function\s([^(]{1,})\(/,n=t.exec(e.toString());return n&&n.length>1?n[1].trim():""}return void 0===e.prototype?e.constructor.name:e.prototype.constructor.name}function u(e){return!!/true/.test(e)||!/false/.test(e)&&(isNaN(1*e)?e:parseFloat(e))}function l(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function c(e,t){var n=null;return function(){var i=this,a=arguments;null===n&&(n=setTimeout(function(){e.apply(i,a),n=null},t))}}n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return r}),n.d(t,"h",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"b",function(){return c})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=n(1),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l={namespacedModuleTriggers:!0,overrideRegistered:!1,mapModulesToApplication:!1},c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),u(t,[{key:"name",get:function(){return"SiteappModuleManagerException"}}]),t}(o.a),p=function(){function e(t){i(this,e),this._uuid=this.functionName(this)+"-"+this.genUUID(6),this.options=$.extend({},l,t),this._init()}return u(e,[{key:"_init",value:function(){this._version="0.0.1",this._modules={},this._uuids=[]}},{key:"initialize",value:function(e,t){if(e instanceof s.a)return this.initializeModule(e,t)}},{key:"register",value:function(e,t){if(e instanceof Object)return this.registerModule(e,t)}},{key:"destroy",value:function(e){var t=e;if(e instanceof s.a&&(t=this.hyphenate(this.functionName(e.$element.data(this.application.appName+"Plugin").constructor)),void 0!==this._modules[this.application.appName+"-"+t]))return this.destroyModule(e)}},{key:"registerModule",value:function(e,t){var n=void 0!==t?t:this.functionName(e),i=this.hyphenate(n);e._app=e.prototype._app=this.application,e._manager=e.prototype._manager=this;var a=i;this.options.namespacedModuleTriggers&&(a=this.application.appName+"-"+a);var r=this._modules[a];if((this.options.overrideRegistered||void 0===r)&&(this._modules[a]=this[n]=e,this.options.mapModulesToApplication)){var o=this.application._plugins[a];this.options.overrideRegistered||void 0===o?this.application._plugins[a]=this.application[n]=this._modules[a]:v}}},{key:"initializeModule",value:function(e,t){var n=void 0!==t?this.hyphenate(t):this.hyphenate(this.functionName(e.constructor)),i=n;this.options.namespacedModuleTriggers&&(i=this.application.appName+"-"+i),e.uuid||(e.uuid=n+"-"+this.genUUID(6)),e.$element.attr("data-"+i)||e.$element.attr("data-"+i,e.uuid),e.$element.data(this.application.appName+"Plugin")||e.$element.data(this.application.appName+"Plugin",e),e.$element.trigger("init."+this.application.appName+"."+n),this._uuids.push(e.uuid),this.options.mapModulesToApplication&&this.application._uuids.push(e.uuid)}},{key:"destroyModule",value:function(e){var t=this.hyphenate(this.functionName(e.$element.data(this.application.appName+"Plugin").constructor)),n=t;this.options.namespacedModuleTriggers&&(n=this.application.appName+"-"+n),this._uuids.splice(this._uuids.indexOf(e.uuid),1),this.options.mapModulesToApplication&&this.application._uuids.splice(this.application._uuids.indexOf(e.uuid),1),e.$element.removeAttr("data-"+n).removeData(this.application.appName+"Plugin").trigger("destroyed."+this.application.appName+"."+t);for(var i in e)e[i]=null}},{key:"reInit",value:function(e){var t=e instanceof $,n=this,i=n.application.appName;try{if(t&&e.length>0)e.each(function(){$(this).data(i+"Plugin")._init()});else{var a=typeof e,r=this;({object:function(e){e.forEach(function(e){$("[data-"+e+"]")[i]("_init")})},string:function(){$("[data-"+e+"]")[i]("_init")},undefined:function(){this.object(Object.keys(r._modules))}})[a](e)}}catch(e){}finally{return e}}},{key:"reflow",value:function(e,t){void 0===t?t=Object.keys(this._modules):"string"==typeof t&&(t=[t]),void 0===e&&(e=document);var n=this;$.each(t,function(t,i){var a=n._modules[i];$(e).find("[data-"+i+"]").addBack("[data-"+i+"]").each(function(){var e=$(this),t={};if(e.data(n.application.appName+"Plugin")){var i=e.data(n.application.appName+"Plugin");return void(i.reflow&&i.reflow())}e.attr("data-options")&&e.attr("data-options").split(";").forEach(function(e,i){var a=e.split(":").map(function(e){return e.trim()});a[0]&&(t[a[0]]=n.parseValue(a[1]))});try{e.data(n.application.appName+"Plugin",new a(e,t))}catch(e){throw new c(e.message)}finally{return}})})}},{key:"functionName",value:function(e){return this.application.utilities.functionName(e)}},{key:"genUUID",value:function(e,t){return this.application.utilities.genUUID(e,t)}},{key:"parseValue",value:function(e){return this.application.utilities.parseValue(e)}},{key:"hyphenate",value:function(e){return this.application.utilities.hyphenate(e)}},{key:"application",get:function(){return this._app},set:function(e){if(!(e instanceof Siteapp))throw new c("Invalid application object to attach");this._app=e}},{key:"version",get:function(){return this._version}}]),e}();t.a=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(2),r=n(5),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){i(this,e),this.options=$.extend({},this.defaults,t),this._initializeApplication()}return o(e,[{key:"_initializeApplication",value:function(){this._version="0.0.1",this._plugins={},this._uuids=[],this._initTriggers(),this._initMediaQuery(),this.options.disableStorage||this._setupStorageManager(),this.options.disableModules||this._setupMainModuleManager(),this.options.disableUi||this._setupMainUiManager(),this._dependencyInjections()}},{key:"_initTriggers",value:function(){this.Triggers&&(this.Triggers._ns=this.appName,this.Triggers.init($,this))}},{key:"_initMediaQuery",value:function(){this.MediaQuery&&(this.MediaQuery._ns=this.appName,this.MediaQuery._init())}},{key:"_setupStorageManager",value:function(){this.StorageManager&&!this.options.disableStorage&&(this.options.storageManager?this.Storage=new this.StorageManager(this.options.storageManager):this.Storage=new this.StorageManager,this.Storage._app=this,this.StorageAdapter&&this.Storage.setNamespaceAdapter(this.appName+"Storage",new this.StorageAdapter(this.appName,"memory",{},this.Storage)))}},{key:"_setupMainModuleManager",value:function(){this.ModuleManager&&!this.options.disableModules&&(this.ModuleManager.prototype._app=this,this.options.moduleManager?this.Modules=new this.ModuleManager(this.options.moduleManager):this.Modules=new this.ModuleManager,this.Modules._app=this,this.ModuleFactory&&(this.ModuleFactory.prototype._app=this,this.ModuleFactory.prototype._manager=this.Modules,this.Modules.registerModule(this.ModuleFactory)),this.Module&&(this.Module.prototype._app=this,this.Module.prototype._manager=this.Modules))}},{key:"_setupMainUiManager",value:function(){this.UiManager&&!this.options.disableUi&&(this.options.uiManager?this.Ui=new this.UiManager(this.options.uiManager):this.Ui=new this.UiManager,this.Ui._app=this,this.UiManager.Screenlayer&&(this.UiManager.Screenlayer.prototype._app=this,this.UiManager.Screenlayer.prototype._manager=this.Ui,this.Ui.registerModule(this.UiManager.Screenlayer)),this.UiManager.Screenpanel&&(this.UiManager.Screenpanel.prototype._app=this,this.UiManager.Screenpanel.prototype._manager=this.Ui,this.Ui.registerModule(this.UiManager.Screenpanel)),this.UiManager.Action&&(this.UiManager.Action.prototype._app=this,this.UiManager.Action.prototype._manager=this.Ui,this.Ui.registerModule(this.UiManager.Action)))}},{key:"_dependencyInjections",value:function(){void 0!==this.Triggers&&(this.Triggers._ns=this.appName,this.Triggers._app=this),void 0!==this.MediaQuery&&(this.MediaQuery._ns=this.appName,this.MediaQuery._app=this),void 0!==this.Keyboard&&(this.Keyboard._ns=this.appName,this.Keyboard._app=this),void 0!==this.Exception&&(this.Exception._ns=this.appName,this.Exception._app=this),void 0!==this.Debugger&&(this.Debugger._ns=this.appName,this.Debugger._app=this),void 0!==this.Logger&&(this.Logger._ns=this.appName,this.Logger._app=this),void 0!==this.Module&&(this.Module._ns=this.appName,this.Module._app=this),void 0!==this.ModuleFactory&&(this.ModuleFactory._ns=this.appName,this.ModuleFactory._app=this),void 0!==this.Plugin&&(this.Plugin._ns=this.appName,this.Plugin._app=this)}},{key:"addToGlobal",value:function(e,t){var e=e||window||{},n=this.utilities.functionName(this),i=String(n).charAt(0).toLowerCase()+n.slice(1);if(void 0===e[i]&&(e[i]=this),!1!==t){var a="$"+String(i).charAt(0).toUpperCase();void 0===e[a]&&(e[a]=e[i])}return e}},{key:"addPluginShortcut",value:function(e){var e=e||window||{},t=this,n=this.utilities.functionName(this),i="$$"+String(n).charAt(0).toUpperCase(),a="$$"+String(n).charAt(0).toUpperCase()+n.slice(1),r=function(e){var n=$(e);if(1==n.length)return n.data(t.appName+"Plugin");var i=[];return n.each(function(e,n){var a=$(n).data(t.appName+"Plugin");i[a.uuid]=a}),i};return void 0===e[i]&&(e[i]=r),void 0===e[a]&&(e[a]=r),e}},{key:"addToJquery",value:function(e){var t=this,n=function(e){return t.run(this,e),this};return e.fn[this.appName]=n,e}},{key:"reInit",value:function(e){return this.Modules&&!this.options.Modules&&this.Modules.reInit(e),this.Ui&&!this.options.disableUi&&this.Ui.reInit(e),this}},{key:"reflow",value:function(e,t){return this.Modules&&!this.options.disableModules&&this.Modules.reflow(e,t),this.Ui&&!this.options.disableUi&&this.Ui.reflow(e,t),this}},{key:"run",value:function(e,t){this.options.hasJS&&this.hasJS(),void 0===e?e=document:1===arguments.length&&"string"==typeof e&&0===$(e).length&&(t=e,e=document);var n=$(e),i=typeof t,a=this;if("undefined"===i)this.MediaQuery&&"function"==typeof this.MediaQuery._init&&this.MediaQuery._init(),this.reflow(n);else{if("string"!==i)throw new TypeError("We're sorry, "+i+" is not a valid parameter. You must use a string representing the method you wish to invoke.");if(this.options.disablePrivateMethods&&"_init"!==t&&t.charAt(0)==this.options.privateMethodsIndicator)throw new TypeError("We're sorry, invoking private module/plugin methods is restricted.");var r=[];arguments.length>2&&(r=Array.prototype.slice.call(arguments,2));var o=n.data(a.appName+"Plugin");if(void 0!==o&&void 0!==o[t])1===n.length?o[t].apply(o,r):n.each(function(e,n){o[t].apply($(n).data(a.appName+"Plugin"),r)});else if(n.length>0)throw new ReferenceError("We're sorry, '"+t+"' is not an available method for "+(o?a.utilities.functionName(o):"this element")+".")}return this}},{key:"hasJS",value:function(){var e=$("."+this.options.classnameNoJS);e.length&&e.removeClass(this.options.classnameNoJS)}},{key:"plugin",value:function(e,t){return this.Modules.registerModule(e,t)}},{key:"registerPlugin",value:function(e,t){return this.Modules.initializeModule(e,t)}},{key:"unregisterPlugin",value:function(e){return this.Modules.destroyModule(e)}},{key:"appName",get:function(){return this.options.namespace}},{key:"instanceName",get:function(){return this.utilities.functionName(this)}},{key:"version",get:function(){return this._version},set:function(e){this._version=e}},{key:"NS",get:function(){return this.Namespace}},{key:"D",get:function(){return this.Debugger}},{key:"L",get:function(){return this.Log}}]),e}();s.prototype.defaults={namespace:"siteapp",lang:"en_US",disableStorage:!1,disableUi:!1,disableModules:!1,hasJS:!0,classnameNoJS:"no-js",disablePrivateMethods:!0,privateMethodsIndicator:"_"},s.prototype.libs={},s.prototype.utilities={throttle:a.b,genUUID:a.c,transitionend:a.d,functionName:a.e,parseValue:a.f,hyphenate:a.g,rtl:a.a,secureProperties:a.h,EventManager:r.a},s.prototype.sys=s.prototype.utilities,s.utilities=s.prototype.utilities,s.sys=s.prototype.utilities,function(){Date.now&&window.Date.now||(window.Date.now=Date.now=function(){return(new Date).getTime()});for(var e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t){var n=e[t];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var i=0;window.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(i+16,t);return setTimeout(function(){e(i=n)},n-t)},window.cancelAnimationFrame=clearTimeout}window.performance&&window.performance.now||(window.performance={start:Date.now(),now:function(){return Date.now()-this.start}})}(),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},a=function(){return n.apply(this instanceof i?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(i.prototype=this.prototype),a.prototype=new i,a}),t.a=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){i(this,e),this._eventList={},this._initTarget(t)}return a(e,[{key:"_initTarget",value:function(e){if(e){var t=this;e.events=t,e.on=function(e,n){t.attachEvent(e,n)},e.off=function(e,n){t.detachEvent(e,n)},e.trigger=function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];t.raiseEvent(e,i)},this.target=e}}},{key:"_getEvent",value:function(e,t){if(!this._eventList[e]){if(!t)return null;this._eventList[e]=[]}return this._eventList[e]}},{key:"attachEvent",value:function(e,t){this._getEvent(e,!0).push(t)}},{key:"detachEvent",value:function(e,t){var n=this._getEvent(e);if(n)if("function"==typeof t){var i=function(e,t){for(var n=e.length;n<e.length;n++)if(e[n]&&e[n]===t)return n;return-1}(n,t);i>-1&&n.splice(i,1)}else delete this._eventList[e]}},{key:"raiseEvent",value:function(e,t){var n=this._getEventHandler(e),i=this.target;n&&n.apply(i,t)}},{key:"_getEventHandler",value:function(e){var t=this._getEvent(e,!1),n=this;return t&&0!==t.length?function(){for(var e=arguments.length,i=Array(e),a=0;a<e;a++)i[a]=arguments[a];for(var r=0;r<t.length;r++){if(!1===(void 0!==n.target?t[r].apply(n.target,i):t[r].apply(this,i)))break}}:null}}]),e}();t.a=r},function(e,t,n){"use strict";function i(e){return!!e&&e.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(function(){return!(!$(this).is(":visible")||$(this).attr("tabindex")<0)})}function a(e){var t=o[e.which||e.keyCode]||String.fromCharCode(e.which).toUpperCase();return t=t.replace(/\W+/,""),e.shiftKey&&(t="SHIFT_"+t),e.ctrlKey&&(t="CTRL_"+t),e.altKey&&(t="ALT_"+t),e.metaKey&&(t="META_"+t),t=t.replace(/_$/,"")}n.d(t,"a",function(){return u});var r=n(2),o={9:"TAB",13:"ENTER",27:"ESCAPE",32:"SPACE",35:"END",36:"HOME",37:"ARROW_LEFT",38:"ARROW_UP",39:"ARROW_RIGHT",40:"ARROW_DOWN"},s={},u={keys:function(e){var t={};for(var n in e)t[e[n]]=e[n];return t}(o),parseKey:a,handleKey:function(e,t,i){var a,o,u,l=s[t],c=this.parseKey(e);if(l)if(a=void 0===l.ltr?l:n.i(r.a)()?$.extend({},l.ltr,l.rtl):$.extend({},l.rtl,l.ltr),o=a[c],(u=i[o])&&"function"==typeof u){var p=u.apply(null,[e]);(i.handled||"function"==typeof i.handled)&&i.handled(p)}else(i.unhandled||"function"==typeof i.unhandled)&&i.unhandled()},findFocusable:i,register:function(e,t){s[e]=t},trapFocus:function(e){var t=i(e),n=t.eq(0),r=t.eq(-1);e.on("keydown."+u._ns+".trapfocus",function(e){e.target===r[0]&&"TAB"===a(e)?(e.preventDefault(),n.focus()):e.target===n[0]&&"SHIFT_TAB"===a(e)&&(e.preventDefault(),r.focus())})},releaseFocus:function(e){e.off("keydown."+u._ns+".trapfocus")},unregister:function(e){""!=e?($(window).off("keydown."+this.application.appName+"."+e),void 0!==s[e]&&delete s[e]):($(window).off("keydown."+this.application.appName),s={})},addKeyHandlers:function(e,t){var n=this,i=(this._app,"keydown."+this._ns),a={},r={};if(""==t){Siteapp.sys.genUUID(6)}i=i+"."+t;for(var o in e)if(e.hasOwnProperty(o)){var s=t+""+o;a[o]=s,r[s]=e[o]}$(window).on(i,function(e){this.id=t+""+Siteapp.sys.genUUID(6),n.handleKey(e,t,r)}),this.register(t,a)}}},function(e,t,n){"use strict";function i(e){var t={};return"string"!=typeof e?t:(e=e.trim().slice(1,-1))?t=e.split("&").reduce(function(e,t){var n=t.replace(/\+/g," ").split("="),i=n[0],a=n[1];return i=decodeURIComponent(i),a=void 0===a?null:decodeURIComponent(a),e.hasOwnProperty(i)?Array.isArray(e[i])?e[i].push(a):e[i]=[e[i],a]:e[i]=a,e},{}):t}n.d(t,"a",function(){return a});var a={queries:[],current:"",atLeast:function(e){var t=this.get(e);return!!t&&window.matchMedia(t).matches},get:function(e){for(var t in this.queries){var n=this.queries[t];if(e===n.name)return n.value}return null},_init:function(){var e,t=this,n=$(".Siteapp-mq").css("font-family");e=i(n);for(var a in e)t.queries.push({name:a,value:"only screen and (min-width: "+e[a]+")"});this.current=this._getCurrentSize(),this._watcher()},_getCurrentSize:function(){var e;for(var t in this.queries){var n=this.queries[t];window.matchMedia(n.value).matches&&(e=n)}return"object"==typeof e?e.name:e},_watcher:function(){var e=this;$(window).on("resize."+a._ns+".mediaquery",function(){var t=e._getCurrentSize();t!==e.current&&($(window).trigger("changed."+a._ns+".mediaquery",[t,e.current]),e.current=t)})}};window.matchMedia||(window.matchMedia=function(){var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),i="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===i.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}())},function(e,t,n){"use strict";function i(e,t,n){var i=void 0,a=Array.prototype.slice.call(arguments,3);$(window).off(t).on(t,function(t){i&&clearTimeout(i),i=setTimeout(function(){n.apply(null,a)},e||10)})}n.d(t,"a",function(){return o});var a=function(){for(var e=["WebKit","Moz","O","Ms",""],t=0;t<e.length;t++)if(e[t]+"MutationObserver"in window)return window[e[t]+"MutationObserver"];return!1}(),r=function(e,t){e.data(t).split(" ").forEach(function(n){$("#"+n)["close"===t?"trigger":"triggerHandler"](t+"."+o._ns+".trigger",[e])})},o={Listeners:{Basic:{},Global:{}},Initializers:{}};o.Listeners.Basic={openListener:function(){r($(this),"open")},closeListener:function(){$(this).data("close")?r($(this),"close"):$(this).trigger("close."+o._ns+".trigger")},toggleListener:function(){$(this).data("toggle")?r($(this),"toggle"):$(this).trigger("toggle."+o._ns+".trigger")},closeableListener:function(e){e.stopPropagation();var t=$(this).data("closable");""!==t?Motion.animateOut($(this),t,function(){$(this).trigger("closed."+o._ns)}):$(this).fadeOut().trigger("closed."+o._ns)},toggleFocusListener:function(){var e=$(this).data("toggle-focus");$("#"+e).triggerHandler("toggle."+o._ns+".trigger",[$(this)])}},o.Initializers.addOpenListener=function(e){e.off("click."+o._ns+".trigger",o.Listeners.Basic.openListener),e.on("click."+o._ns+".trigger","[data-open]",o.Listeners.Basic.openListener)},o.Initializers.addCloseListener=function(e){e.off("click."+o._ns+".trigger",o.Listeners.Basic.closeListener),e.on("click."+o._ns+".trigger","[data-close]",o.Listeners.Basic.closeListener)},o.Initializers.addToggleListener=function(e){e.off("click."+o._ns+".trigger",o.Listeners.Basic.toggleListener),e.on("click."+o._ns+".trigger","[data-toggle]",o.Listeners.Basic.toggleListener)},o.Initializers.addCloseableListener=function(e){e.off("close."+o._ns+".trigger",o.Listeners.Basic.closeableListener),e.on("close."+o._ns+".trigger","[data-closeable], [data-closable]",o.Listeners.Basic.closeableListener)},o.Initializers.addToggleFocusListener=function(e){e.off("focus."+o._ns+".trigger blur."+o._ns+".trigger",o.Listeners.Basic.toggleFocusListener),e.on("focus."+o._ns+".trigger blur."+o._ns+".trigger","[data-toggle-focus]",o.Listeners.Basic.toggleFocusListener)},o.Listeners.Global={resizeListener:function(e){a||e.each(function(){$(this).triggerHandler("resizeme."+o._ns+".trigger")}),e.attr("data-events","resize")},scrollListener:function(e){a||e.each(function(){$(this).triggerHandler("scrollme."+o._ns+".trigger")}),e.attr("data-events","scroll")},closeMeListener:function(e,t){var n=e.namespace.split(".")[0];$("[data-"+n+"]").not('[data-yeti-box="'+t+'"]').each(function(){var e=$(this);e.triggerHandler("close."+o._ns+".trigger",[e])})}},o.Initializers.addClosemeListener=function(e){var t=$("[data-yeti-box]"),n=["dropdown","tooltip","reveal"];if(e&&("string"==typeof e?n.push(e):"object"==typeof e&&"string"==typeof e[0]&&n.concat(e)),t.length){var i=n.map(function(e){return"closeme."+o._ns+"."+e}).join(" ");$(window).off(i).on(i,o.Listeners.Global.closeMeListener)}},o.Initializers.addResizeListener=function(e){var t=$("[data-resize]");t.length&&i(e,"resize."+o._ns+".trigger",o.Listeners.Global.resizeListener,t)},o.Initializers.addScrollListener=function(e){var t=$("[data-scroll]");t.length&&i(e,"scroll."+o._ns+".trigger",o.Listeners.Global.scrollListener,t)},o.Initializers.addMutationEventsListener=function(e){if(!a)return!1;var t=e.find("[data-resize], [data-scroll], [data-mutate]"),n=function(e){var t=$(e[0].target);switch(e[0].type){case"attributes":"scroll"===t.attr("data-events")&&"data-events"===e[0].attributeName&&t.triggerHandler("scrollme."+o._ns+".trigger",[t,window.pageYOffset]),"resize"===t.attr("data-events")&&"data-events"===e[0].attributeName&&t.triggerHandler("resizeme."+o._ns+".trigger",[t]),"style"===e[0].attributeName&&(t.closest("[data-mutate]").attr("data-events","mutate"),t.closest("[data-mutate]").triggerHandler("mutateme."+o._ns+".trigger",[t.closest("[data-mutate]")]));break;case"childList":if(t.closest("[data-mutate]").attr("data-events","mutate"),t.closest("[data-mutate]").triggerHandler("mutateme."+o._ns+".trigger",[t.closest("[data-mutate]")]),t.data(o._ns+"Plugin")){t.data(o._ns+"Plugin").reflow&&t.thalia("reflow")}else t.thalia();$(t.closest("[data-mutate]")).trigger("mutateme");break;default:return!1}};if(t.length)for(var i=0;i<=t.length-1;i++){var r=new a(n);r.observe(t[i],{attributes:!0,childList:!0,characterData:!1,subtree:!0,attributeFilter:["data-events","style"]})}},o.Initializers.addSimpleListeners=function(){var e=$(document);o.Initializers.addOpenListener(e),o.Initializers.addCloseListener(e),o.Initializers.addToggleListener(e),o.Initializers.addCloseableListener(e),o.Initializers.addToggleFocusListener(e)},o.Initializers.addGlobalListeners=function(){var e=$(document);o.Initializers.addMutationEventsListener(e),o.Initializers.addResizeListener(),o.Initializers.addScrollListener(),o.Initializers.addClosemeListener()},o.init=function(e,t){if(void 0===e.triggersInitialized){e(document);"complete"===document.readyState?(o.Initializers.addSimpleListeners(),o.Initializers.addGlobalListeners()):e(document).ready(function(){o.Initializers.addSimpleListeners(),o.Initializers.addGlobalListeners()}),e.triggersInitialized=!0}t&&(t.Triggers=o,t.IHearYou=o.Initializers.addGlobalListeners)}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),s(t,[{key:"name",get:function(){return"SiteappModuleFactoryException"}}]),t}(o.a),l={
deps:[],module:null,callback:null,allowPath:!0,allowExtern:!1,externHosts:["localhost",location.hostname]},c=function(){function e(t,n){if(i(this,e),t){this.$element=$(t),this.options=$.extend({},l,this.$element.data(),n),Siteapp.sys.secureProperties(this.options,["allowPath","allowExtern","externHosts"]),this._init()}}return s(e,[{key:"_init",value:function(e){this._dependencies=null,this._module=null,this._callback=null,"object"==typeof option&&(this.options=$.extend({},this.options,e));try{this._dependencies=this.options.deps,this._module=this.options.module,this._callback=this.options.callback,this.inject()}catch(e){throw new u("ModuleFactoryError loading module: "+e.message)}finally{return}}},{key:"inject",value:function(e,t,n){e||(e=this._dependencies),t||(t=this._module),n||(n=this._callback),"string"==typeof e&&(e=String(e).split(",")),"function"!=typeof e.join&&(e=[]);var i=this;if(e.length>0){if(!this._allowURIs(e))throw new Error("SECURITY ALERT: One or more of the dependencies requested are not allowed to be included!");requirejs(e,function(){i.injectModule(t,n)})}else this.injectModule(t,n)}},{key:"injectModule",value:function(e,t){if(e||(e=this._module),t||(t=this._callback),"string"==typeof e){var n=this,i=n.$element,a=n.application;if(!this._allowURI(e))throw new Error("SECURITY ALERT: The module requested is not allowed to be included!");requirejs([e],function(){n.destroy(),i[a.appName](),a.NS.isFunc(t)&&a.NS.func(t).apply(a,[i])})}}},{key:"_allowURIs",value:function(e){if("function"!=typeof e.join)return!1;var t=!1;for(var n in e)t=t||this._allowURI(e[n]);return t}},{key:"_allowURI",value:function(e){if(!this.options.allowPath&&(String(e).indexOf("/")>=0||String(e).indexOf("/")<String(e).length))return!1;if(!this.options.allowExtern&&(this._hasProtocol(e)||this._isExtern(e)))return!1;if(this.options.allowExtern&&this.options.externHosts.length>0){var t=!1;for(var n in this.options.externHosts)t=t||this._hasHost(e,this.options.externHosts[n]);if(!t)return!1}return!0}},{key:"_isExtern",value:function(e){return(new RegExp("^(http(s)*:)*\\/\\/").test(e)||this._hasProtocol(e))&&!this._hasHost(e,location.hostname)}},{key:"_hasProtocol",value:function(e){return new RegExp("^[\\w|-]+:").test(e)}},{key:"_hasHost",value:function(e,t){return-1!=[2,3,7,8].indexOf(String(e).indexOf(t))}},{key:"destroy",value:function(){this.$element.removeAttr("data-"+this.application.appName+"-module-factory").removeAttr("data-deps").removeAttr("data-module").removeAttr("data-callback"),this.manager.destroyModule(this)}},{key:"module",get:function(){return this._module},set:function(e){if(!(e instanceof Module))throw new u("Module to assing must be an instance of Siteapp.Module");this._module=e}},{key:"manager",get:function(){return this._manager},set:function(e){if(!(e instanceof ModuleManager))throw new u("Invalid module manager object to attach, must be an instance of Siteapp.ModuleManager");this._manager=e}},{key:"application",get:function(){return this._app},set:function(e){if(!(e instanceof Siteapp))throw new u("Invalid application object to attach, must be an instance of Siteapp");this._app=e}}]),e}();t.a=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var o=n(0),s=n(11),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l={},c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),u(t,[{key:"name",get:function(){return"SiteappStorageAdapterException"}}]),t}(o.a),p=function(){function e(t,n,a,r,o){i(this,e),this.options=$.extend({},l,o),this._init(t,n,a,r)}return u(e,[{key:"_init",value:function(e,t,n,i){this.data=n||{},this.manager=i||null,this.namespace=e||"data"+Siteapp.prototype.genUUID(),this.type=t||"memory"}},{key:"getItem",value:function(e){return this.data[e]}},{key:"setItem",value:function(e,t){var n=this.data;return n[e]=t,this.data=n,this}},{key:"data",get:function(){return this._data},set:function(e){if(!(e instanceof Object))throw new c("data set must be an object");this._data=e}},{key:"namespace",get:function(){return this._namespace},set:function(e){if("string"!=typeof e)throw new c("namespace must be a string");this._namespace=e}},{key:"type",get:function(){return this._type},set:function(e){if("string"!=typeof e)throw new c("type identifier must be a string");if(-1==this.manager.types.indexOf(e))throw new c('type identifier must be one of "'+s.a.types.join('", "')+'"');this._type=e}},{key:"manager",get:function(){return this._manager},set:function(e){if(null!==e&&!(e instanceof s.a))throw new c("manager must be an instance of Siteapp.StorageManager");this._manager=e}}]),e}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var o=n(0),s=n(10),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l={},c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),u(t,[{key:"name",get:function(){return"SiteappStorageManagerException"}}]),t}(o.a),p=function(){function e(t){i(this,e),this.options=$.extend({},l,t),this._init()}return u(e,[{key:"_init",value:function(){this._version="0.0.1",this._namespaces={},this._adapters={}}},{key:"setNamespaceAdapter",value:function(e,t){if(!(t instanceof s.a))throw new c("Invalid storage adapter object to set");void 0===this.namespaces[e]&&(this.namespaces[e]={data:{},adapters:{}}),this.namespaces[e].adapters[t.type]=t}},{key:"application",get:function(){return this._app},set:function(e){if(!(e instanceof Siteapp))throw new c("Invalid application object to attach");this._app=e}},{key:"version",get:function(){return this._version}},{key:"types",get:function(){return["memory","elementData","sessionStorage","cookie","localStorage","service"]}},{key:"namespaces",get:function(){return this._namespaces}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=this,a={debugentries:[],types:["log","debug","info","warn","error"],add:function(e){var t={type:e.type||"info",message:e.message||"",time:e.time||new Date};return this.debugentries.push(t),this},clear:function(){return this.debugentries=[],this},toEntry:function(){var e=arguments;return 1==e.length&&(e[1]=e[0],e[0]="info"),{type:e[0]||"info",message:e[1]||"",time:new Date}},debug:function(){return(console||"function"==typeof console.debug)&&$LCARS.getInstance().config.debug,this},log:function(e){var t=this.toEntry("log",e);return this.add(t).console(t),this},info:function(e){var t=this.toEntry("info",e);return this.add(t).console(t),this},warn:function(e){var t=this.toEntry("warn",e);return this.add(t).console(t),this},error:function(e){var t=this.toEntry("error",e);return this.add(t).console(t),this},console:function(e){if(!(console&&e&&e.type&&e.message&&e.time&&$LCARS.getInstance().config.debug))return this;[String(e.type).toUpperCase(),": ",String(e.message)," - ",String(e.time),""].join("");return console[e.type],this},get:function(){if(0===arguments.length)return this.debugentries;if(1==arguments.length){var e=[];for(var t in this.debugentries)this.debugentries[t].type==arguments[0]&&e.push(this.debugentries[t]);return e}return!1},getInstance:function(){return this},_app:function(e){if(!e)return i.__app;i.__app=e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=this,a={logentries:[],loglevel:0,logtypes:["debug","info","warn","exception"],_currentIndex:0,log:function(e,t,n){return this.logentries.push(arguments),this},get:function(){return arguments.length>0?this.logentries[parseInt(arguments[0])]:this.logentries},clear:function(){return this.logentries=[],this._currentIndex=0,this},setLevel:function(){return arguments.length>0?this.loglevel=parseInt(arguments[0]):this.loglevel=0,this},_app:function(e){if(!e)return i.__app;i.__app=e}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u={screenlayer:null,targetMode:"append",activeClass:"active",panelSelector:"> *"},l=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.options=$.extend({},r.options,u,n,r.$element.data()),r.events=new Siteapp.sys.EventManager(r),r}return r(t,e),s(t,[{key:"getActiveIndex",value:function(){return this.getActivePanel().index()}},{key:"getActivePanel",value:function(){return this.$container.find("> ."+this.options.activeClass)}},{key:"setActive",value:function(e){var t;return e&&(t=$(e),this.setInactive(),t.addClass(this.options.activeClass),this.trigger("activatepanel",t),this.$element.trigger("activatepanel",t)),this}},{key:"setInactive",value:function(e){var t;return t=e?$(e):this.$container.find(this.options.itemSelector),t.removeClass(this.options.activeClass),this.trigger("deactivatepanel",t),this.$element.trigger("deactivatepanel",t),this}},{key:"isActive",value:function(e){return!!e&&$(e).hasClass(this.options.activeClass)}},{key:"addPanel",value:function(e,t){if(e){if(!1===t){this.$container.append(e);var n=this.$container.children().last()}else{this.getActivePanel().appendTo(e);var n=this.getActivePanel().next()}this.trigger("addpanel",n),this.$element.trigger("addpanel",n),this.selectPanel(n),this.reflow()}}},{key:"removePanel",value:function(e){if(e){var t=this.$container.find(e);t&&(this.trigger("removepanel"),this.$element.trigger("removepanel",t),t.remove(),this.reflow())}}},{key:"selectPanel",value:function(e){var t=this.$container.find(e);1==t.length&&(this.setActive(t),this.trigger("selectpanel",t),this.$element.trigger("selectpanel",t))}},{key:"container",set:function(e){this.$container=e.jquery?e:$(e)},get:function(){return this.$container?this.$container:this.$element}}]),t}(o.a);t.a=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u={type:"default",adapter:"default",configurable:!0,removable:!0,adapters:{default:{}}},l=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Siteapp.sys.functionName(r),r}return r(t,e),s(t,[{key:"setAdapter",value:function(e){this.application.Ui.Paneladapters.isRegistered(e)&&(this.options.adapter=e,this.$element.data("adapter",e),this.$element.attr("data-adapter",e))}},{key:"minimize",value:function(){this.$element.addClass("screenlayer-minimized"),this.hide()}},{key:"restore",value:function(){this.$element.removeClass("screenlayer-minimized"),this.show()}},{key:"setActive",value:function(){this._active=!0,this.$element.addClass("screenlayer-active")}},{key:"setInactive",value:function(){this._active=!1,this.$element.removeClass("screenlayer-active")}},{key:"focus",value:function(){this.manager.focusLayer(this)}},{key:"panelAdapter",get:function(){return""!=this.options.adapter?this.application.Ui.getAdapterByName(this.options.adapter):null}},{key:"isActive",get:function(){return!0===this._active}}]),s(t,[{key:"_setup",value:function(e,t){this.$element=e,this.options=$.extend({},u,this.options,t);var n=Siteapp.sys.functionName(this);this.className="earthTheme.Ui."+n,this._init()}},{key:"_init",value:function(){this.events=new Siteapp.sys.EventManager(this),this._events(),this._initPanelAdapter();var e=Siteapp.sys.functionName(this);this.manager.connectLayer(this,e)}},{key:"_initPanelAdapter",value:function(){}},{key:"_events",value:function(){this._addKeyHandler(),this._addClickHandler()}},{key:"_addClickHandler",value:function(){}},{key:"_addKeyHandler",value:function(){}},{key:"_removeKeyHandler",value:function(){}},{key:"_destroy",value:function(){this._removeKeyHandler(),this.$element.find("*").off("."+_this.application.NS),this.$element.off("."+_this.application.NS),this.$element.remove()}}]),t}(o.a);t.a=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(6),r=n(7),o=n(8),s=n(0),u=n(12),l=n(13),c=n(1),p=n(9),f=n(3),h=n(10),d=n(11),y=n(20),g=n(18),v=n(15),m=n(19),_=n(14);i.a.prototype.Keyboard=a.a,i.a.prototype.MediaQuery=r.a,i.a.prototype.Triggers=o.a,i.a.Keyboard=i.a.prototype.Keyboard,i.a.MediaQuery=i.a.prototype.MediaQuery,i.a.Triggers=i.a.prototype.Triggers,i.a.prototype.Exception=s.a,i.a.prototype.Debugger=u.a,i.a.prototype.Log=l.a,i.a.Exception=i.a.prototype.Exception,i.a.Debugger=i.a.prototype.Debugger,i.a.Log=i.a.prototype.Log,i.a.prototype.Module=c.a,i.a.Module=c.a,i.a.prototype.ModuleFactory=p.a,i.a.ModuleFactory=p.a,i.a.prototype.ModuleManager=f.a,i.a.ModuleManager=f.a,i.a.prototype.StorageAdapter=h.a,i.a.StorageAdapter=h.a,i.a.prototype.StorageManager=d.a,i.a.StorageManager=d.a,i.a.prototype.UiManager=y.a,i.a.UiManager=y.a,i.a.prototype.UiManager.Action=g.a,i.a.UiManager.Action=g.a,i.a.prototype.UiManager.Screenlayer=v.a,i.a.UiManager.Screenlayer=v.a,i.a.prototype.UiManager.Screenpanel=m.a,i.a.UiManager.Screenpanel=m.a,i.a.prototype.UiManager.Paneladapter=_.a,i.a.UiManager.Paneladapter=_.a,i.a.prototype.rtl=i.a.prototype.utilities.rtl,i.a.prototype.GetYoDigits=i.a.prototype.utilities.genUUID,i.a.prototype.transitionend=i.a.prototype.utilities.transitionend,i.a.rtl=i.a.prototype.utilities.rtl,i.a.GetYoDigits=i.a.prototype.utilities.genUUID,i.a.transitionend=i.a.prototype.utilities.transitionend,i.a.prototype.Plugin=i.a.Module,i.a.Plugin=i.a.Module,window.Siteapp=i.a,t.default=i.a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u={},l=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),s(t,[{key:"name",get:function(){return"SiteappAdapterManagerException"}}]),t}(o.a),c=function(){function e(t){i(this,e),this.options=$.extend({},u,t),this._init()}return s(e,[{key:"_init",value:function(){this._version="0.0.1",this._adapters={}}},{key:"register",value:function(e,t){Siteapp.sys.hyphenate(Siteapp.sys.functionName(e));return""==t&&(t=Siteapp.sys.functionName(e)),this.isRegistered(t)||(this._adapters[t]=e),this}},{key:"get",value:function(e){if(this.isRegistered(e))return this.adapters[e]}},{key:"unregister",value:function(e){return"string"!=typeof e&&(e=Siteapp.sys.functionName(e)),this.isRegistered(name)&&(this._adapters[name]=void 0),this}},{key:"isRegistered",value:function(e){return void 0!==this._adapters[e]}},{key:"getAdapterByName",value:function(e){return this.isRegistered(e)?this._adapters[e]:null}},{key:"adapters",get:function(){return this._adapters}},{key:"application",get:function(){return this._app},set:function(e){if(!(e instanceof Siteapp))throw new l("Invalid application object to attach");this._app=e}},{key:"version",get:function(){return this._version}}]),e}();t.a=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u={target:"layer",layer:"_blank",request:{headers:{"X-Requested-With":"XMLHttpRequest"},success:null,failure:null,complete:null},removable:!1},l=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.options=$.extend({},u,r.$element.data(),r.options),Siteapp.sys.secureProperties(r.options,["removable"]),r._init(),r.manager.initialize(r),r}return r(t,e),s(t,[{key:"openInLayer",value:function(){var e=this,t=e.targetLayer;t&&$.ajax({url:e.$element.attr("href"),beforeSend:e._ajaxBeforeSend.bind(e),success:function(n){if(t.panelAdapter instanceof Siteapp.UiManager.Paneladapter){try{var i=JSON.parse(n)}catch(e){var i=n}var a=null,r=0==e.$element.find(".label").length?e.$element.attr("title")?e.$element.attr("title"):e.$element.attr("href"):e.$element.find(".label").first().text();"object"!=typeof i?(a=0==$(i).find("body").length?i:$(i).find("body").html(),t.panelAdapter.addPanel({title:r,body:a,footer:null})):void 0!==i.body?t.panelAdapter.addPanel(i):t.panelAdapter.addPanel({title:null,body:n,footer:null})}"function"==typeof e.options.request.success&&e.options.request.success.apply(e,arguments)},failure:function(t){"function"==typeof e.options.request.failure&&e.options.request.failure.apply(e,arguments)},complete:function(t){"function"==typeof e.options.request.complete&&e.options.request.complete.apply(e,arguments)}})}},{key:"sendToModule",value:function(){location.href=this.$element.attr("href")}},{key:"link",value:function(){location.href=this.$element.attr("href")}},{key:"_init",value:function(){this.events=new Siteapp.sys.EventManager(this),this._events()}},{key:"_events",value:function(){this._addKeyHandler(),this._addClickHandler()}},{key:"_addClickHandler",value:function(){var e="."+this.application.appName,t=this;this.$element.off("click tap"),this.$element.on("click."+e+" tap."+e,function(e){return"layer"==t.options.target?t.openInLayer():"module"==t.options.target?t.sendToModule():t.link(),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1})}},{key:"_addKeyHandler",value:function(){}},{key:"_ajaxBeforeSend",value:function(e){var t=this.options.request.headers;t["X-Requested-With"]=this.application.appName;for(var n in t)""!=t[n]&&e.setRequestHeader(n,t[n])}},{key:"targetLayer",get:function(){return"layer"==this.options.target&&""!=this.options.layer?this.application.Ui.getLayerByName(this.options.layer):null}},{key:"href",get:function(){return this.$element.attr("href")}}]),t}(o.a);t.a=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(1),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u={title:null,body:null,footer:null,activeClass:"active",minimizedClass:"minimized"},l=function(e){function t(e,n){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Siteapp.sys.functionName(r),r}return r(t,e),s(t,[{key:"template",value:function(e){var t=Siteapp.sys.functionName(this);this.manager.options.namespacedModuleTriggers&&(t=this.application.appName+"-"+t);var n=["<div data-",t,">","<div data-",t,"-header>",""==e.title?"":['<h2 class="title">',e.title,"</h2>"].join(""),'<div class="wm-button-group">','<button class="wm-previous" data-previous>','<i href="#" class="icon fa-caret-left"><span class="label">previous</span></i>',"</button>",'<button class="wm-next" data-next>','<i href="#" class="icon fa-caret-right"><span class="label">next</span></i>',"</button>",'<button class="wm-minimize" data-minimize disabled>','<i href="#" class="icon fa-window-minimize"><span class="label">minimize</span></i>',"</button>",'<button class="wm-maximize" data-maximize disabled>','<i href="#" class="icon fa-window-maximize"><span class="label">maximize</span></i>',"</button>",'<button class="wm-close" data-close>','<i href="#" class="icon fa-close"><span class="label">close</span></i>',"</button>","</div>","</div>","<div data-",t,"-body>",e.body,"</div>",""==e.footer?"":["<div data-",t,"-footer>",e.footer,"</div>"].join(""),"</div>"].join("");return $(n)}},{key:"minimize",value:function(){this.$element.addClass(this.options.minimizedClass),this.hide(),this.trigger("minimize")}},{key:"restore",value:function(){this.$element.removeClass(this.options.minimizedClass),this.show(),this.trigger("restore")}},{key:"setActive",value:function(){this._active=!0,this.$element.addClass(this.options.activeClass),this.trigger("activate")}},{key:"setInactive",value:function(){this._active=!1,this.$element.removeClass(this.options.activeClass),this.trigger("deactivate")}},{key:"title",get:function(){return this.options.title?String(this.options.title):""}},{key:"body",get:function(){return this.options.body?String(this.options.body):""}},{key:"footer",get:function(){return this.options.footer?String(this.options.footer):""}},{key:"isActive",get:function(){return!0===this._active}}]),s(t,[{key:"_setup",value:function(e,t){this.$element=e,this.options=$.extend({},u,this.options,t);var n=Siteapp.sys.functionName(this);this.className="earthTheme.Ui."+n,this._init()}},{key:"_init",value:function(){this.events=new Siteapp.sys.EventManager(this),this._events(),this.manager.initialize(this)}},{key:"_events",value:function(){this._addKeyHandler(),this._addClickHandler()}},{key:"_addClickHandler",value:function(){}},{key:"_addKeyHandler",value:function(){}},{key:"_removeKeyHandler",value:function(){}},{key:"_destroy",value:function(){this._removeKeyHandler(),this.$element.find("*").off("."+this.application.appName),this.$element.off("."+this.application.appName),this.$element.remove()}}]),t}(o.a);t.a=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(3),s=n(17),u=n(14),l=(n(15),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),c=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;if(void 0!==o)return o.call(i)},p=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),l(t,[{key:"connectLayer",value:function(e,t){this.initialize(e,t)}},{key:"disconnectLayer",value:function(e){this.destroy(e)}},{key:"focusLayer",value:function(e){e instanceof Siteapp.UiManager.Screenlayer&&(this.unfocusLayers(),e.setActive(),e.$element.css({zIndex:1}))}},{key:"unfocusLayers",value:function(){this.deactivateLayers(),this.layers.map(function(e,t){t instanceof Siteapp.UiManager.Screenlayer&&(t.setInactive(),t.$element.css({zIndex:-1}))})}},{key:"activateLayer",value:function(e){e instanceof Siteapp.UiManager.Screenlayer&&e.setActive()}},{key:"deactivateLayers",value:function(){var e=this.activeLayer;e instanceof Siteapp.UiManager.Screenlayer&&e.setInactive()}},{key:"getLayerByName",value:function(e){var t=null;for(var n in this.layers){var i=this.layers[n];i.options.name&&i.options.name==e&&(t=i)}return t}},{key:"getAdapterByName",value:function(e){var t=null;if(this.Paneladapters.isRegistered(e))for(var n in this.adapters){var i=this.adapters[n];i.options.name&&i.options.name==e&&(t=i)}return t}},{key:"_init",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_init",this).call(this),this._screenlayers=[],this._paneladapters=[],this._events(),this._initPanelAdapterManager()}},{key:"_initPanelAdapterManager",value:function(){this.Paneladapters=new s.a,this.Paneladapters.application=this.application,this.Paneladapters.register(u.a,"default")}},{key:"_events",value:function(){this._addKeyHandler(),this._addClickHandler()}},{key:"_addClickHandler",value:function(){}},{key:"_addKeyHandler",value:function(){var e={ESCAPE:function(e){},X:function(e){},ALT_CTRL_X:function(e){},META_A:function(e){}};Siteapp.Keyboard.addKeyHandlers(e,"UiKeys"+this._uuid)}},{key:"_destroy",value:function(){Siteapp.Keyboard.unregister("UiKeys"+this._uuid),this.$element.find("*").off("."+_this.application.appName),this.$element.off("."+_this.application.appName),this.$element.remove()}},{key:"activeLayer",get:function(){for(var e in this.layers)if(this.layers[e].isActive)return this.layers[e];return null}},{key:"layers",get:function(){var e=this,t=[],n=[],i=e.application.appName;return $.each(this._modules,function(t,a){var r=Siteapp.sys.hyphenate(Siteapp.sys.functionName(a));e.options.namespacedModuleTriggers?n.push("[data-"+i+"-"+r+"]"):n.push("[data-"+r+"]")}),$(n.join(",")).each(function(e,n){var a=$(n).data(i+"Plugin");a instanceof Siteapp.UiManager.Screenlayer&&(t[a.uuid]=a)}),this._screenlayers=t,this._screenlayers}},{key:"adapters",get:function(){var e=this,t=[],n=[],i=e.application.appName;return $.each(this._modules,function(t,a){var r=Siteapp.sys.hyphenate(Siteapp.sys.functionName(a));e.options.namespacedModuleTriggers?n.push("[data-"+i+"-"+r+"]"):n.push("[data-"+r+"]")}),$(n.join(",")).each(function(e,n){var a=$(n).data(i+"Plugin");a instanceof Siteapp.UiManager.Paneladapter&&(t[a.uuid]=a)}),this._paneladapters=t,this._paneladapters}}]),t}(o.a);t.a=p},,,,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),s=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),t}(o.default),u=new s;window.Siteapp=o.default,window.testApp=u},,,,,function(e,t,n){e.exports=n(24)}]);